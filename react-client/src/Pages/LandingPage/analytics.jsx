import { useRef } from "react";
import VisibilitySensor from "react-visibility-sensor";

export default function Analytics() {
  const graph = useRef(null);
  function visibilityHandler(isVisible) {
    console.log(isVisible);
    graph.current.classList.toggle("visible", isVisible);
  }

  return (
    <VisibilitySensor scrollCheck={true} onChange={visibilityHandler}>
      <svg className="analytics-display" width="736" height="410" viewBox="0 0 736 410" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="736" height="410" rx="31" fill="#745634" />
        <path ref={graph} className="graph" d="M89 363.5L172.033 250.444L246.822 322.282L337.511 206.282L457 300L643 107" stroke="url(#paint0_linear_77_302)" strokeWidth="22" strokeLinecap="round" strokeLinejoin="round" />
        <path
          d="M46.68 25.68H51.8L55.04 35.08L58.32 25.68H63.4L58.52 38.6L62.12 47.64L70.16 25.6H76.16L64.8 54H60.04L55.04 42.08L50.08 54H45.32L34 25.6H39.92L48 47.64L51.52 38.6L46.68 25.68ZM78.5494 54V33.04H83.9094V54H78.5494ZM78.5494 30.12V24.8H83.9094V30.12H78.5494ZM87.4647 43.52C87.4647 41.4933 87.8647 39.6667 88.6647 38.04C89.4647 36.3867 90.5714 35.08 91.9847 34.12C93.398 33.16 95.0114 32.68 96.8247 32.68C98.3714 32.68 99.758 33.0667 100.985 33.84C102.238 34.5867 103.211 35.5467 103.905 36.72V24.8H109.265V48C109.265 48.56 109.358 48.96 109.545 49.2C109.731 49.44 110.051 49.5867 110.505 49.64V54C109.571 54.1867 108.811 54.28 108.225 54.28C107.265 54.28 106.465 54.04 105.825 53.56C105.211 53.08 104.865 52.4533 104.785 51.68L104.705 50.36C103.931 51.6667 102.878 52.6667 101.545 53.36C100.238 54.0533 98.8647 54.4 97.4247 54.4C95.9847 54.4 94.6514 54.12 93.4247 53.56C92.2247 53 91.1714 52.2267 90.2647 51.24C89.3847 50.2533 88.6914 49.1067 88.1847 47.8C87.7047 46.4667 87.4647 45.04 87.4647 43.52ZM103.905 46.32V41.32C103.638 40.5467 103.211 39.8533 102.625 39.24C102.038 38.6267 101.385 38.1467 100.665 37.8C99.9447 37.4267 99.2247 37.24 98.5047 37.24C97.678 37.24 96.9314 37.4133 96.2647 37.76C95.598 38.1067 95.0114 38.5733 94.5047 39.16C94.0247 39.7467 93.6514 40.4267 93.3847 41.2C93.1447 41.9733 93.0247 42.7867 93.0247 43.64C93.0247 44.4933 93.158 45.3067 93.4247 46.08C93.718 46.8267 94.1314 47.48 94.6647 48.04C95.198 48.6 95.8114 49.04 96.5047 49.36C97.2247 49.68 97.998 49.84 98.8247 49.84C99.3314 49.84 99.838 49.76 100.345 49.6C100.878 49.4133 101.371 49.1733 101.825 48.88C102.305 48.56 102.718 48.1867 103.065 47.76C103.438 47.3067 103.718 46.8267 103.905 46.32ZM122.726 54.12C121.339 54.12 120.059 53.8533 118.886 53.32C117.739 52.76 116.739 51.9867 115.886 51C115.059 50.0133 114.419 48.88 113.966 47.6C113.513 46.32 113.286 44.96 113.286 43.52C113.286 42 113.526 40.5867 114.006 39.28C114.486 37.9733 115.153 36.8267 116.006 35.84C116.886 34.8267 117.913 34.0533 119.086 33.52C120.286 32.96 121.606 32.68 123.046 32.68C124.673 32.68 126.099 33.0533 127.326 33.8C128.553 34.52 129.566 35.4933 130.366 36.72V33.04H135.046V53C135.046 55.08 134.539 56.8533 133.526 58.32C132.539 59.8133 131.166 60.9467 129.406 61.72C127.646 62.52 125.646 62.92 123.406 62.92C121.139 62.92 119.219 62.5333 117.646 61.76C116.073 61.0133 114.726 59.9467 113.606 58.56L116.526 55.72C117.326 56.7067 118.326 57.48 119.526 58.04C120.753 58.6 122.046 58.88 123.406 58.88C124.553 58.88 125.593 58.6667 126.526 58.24C127.486 57.84 128.246 57.2 128.806 56.32C129.393 55.4667 129.686 54.36 129.686 53V50.36C128.993 51.56 128.006 52.4933 126.726 53.16C125.473 53.8 124.139 54.12 122.726 54.12ZM124.526 49.84C125.113 49.84 125.673 49.7467 126.206 49.56C126.739 49.3733 127.233 49.12 127.686 48.8C128.139 48.48 128.539 48.1067 128.886 47.68C129.233 47.2267 129.499 46.7733 129.686 46.32V41.32C129.366 40.4933 128.913 39.7733 128.326 39.16C127.766 38.5467 127.126 38.08 126.406 37.76C125.713 37.4133 124.979 37.24 124.206 37.24C123.379 37.24 122.633 37.4133 121.966 37.76C121.299 38.1067 120.726 38.6 120.246 39.24C119.766 39.8533 119.393 40.5467 119.126 41.32C118.886 42.0667 118.766 42.8533 118.766 43.68C118.766 44.5333 118.913 45.3333 119.206 46.08C119.499 46.8267 119.899 47.48 120.406 48.04C120.939 48.6 121.553 49.04 122.246 49.36C122.966 49.68 123.726 49.84 124.526 49.84ZM149.598 54.4C147.918 54.4 146.398 54.12 145.038 53.56C143.678 52.9733 142.518 52.1867 141.558 51.2C140.598 50.1867 139.851 49.04 139.318 47.76C138.811 46.4533 138.558 45.08 138.558 43.64C138.558 41.64 138.998 39.8133 139.878 38.16C140.784 36.5067 142.064 35.1867 143.718 34.2C145.398 33.1867 147.371 32.68 149.638 32.68C151.931 32.68 153.891 33.1867 155.518 34.2C157.144 35.1867 158.384 36.5067 159.238 38.16C160.118 39.7867 160.558 41.5467 160.558 43.44C160.558 43.76 160.544 44.0933 160.518 44.44C160.491 44.76 160.464 45.0267 160.438 45.24H144.238C144.344 46.3067 144.651 47.24 145.158 48.04C145.691 48.84 146.358 49.4533 147.158 49.88C147.984 50.28 148.864 50.48 149.798 50.48C150.864 50.48 151.864 50.2267 152.798 49.72C153.758 49.1867 154.411 48.4933 154.758 47.64L159.358 48.92C158.851 49.9867 158.118 50.9333 157.158 51.76C156.224 52.5867 155.118 53.24 153.838 53.72C152.558 54.1733 151.144 54.4 149.598 54.4ZM144.118 41.84H155.078C154.971 40.7733 154.664 39.8533 154.158 39.08C153.678 38.28 153.038 37.6667 152.238 37.24C151.438 36.7867 150.544 36.56 149.558 36.56C148.598 36.56 147.718 36.7867 146.918 37.24C146.144 37.6667 145.504 38.28 144.998 39.08C144.518 39.8533 144.224 40.7733 144.118 41.84ZM176.188 52.92C175.734 53.1067 175.188 53.32 174.548 53.56C173.908 53.8 173.214 53.9867 172.468 54.12C171.748 54.28 171.014 54.36 170.268 54.36C169.281 54.36 168.374 54.1867 167.548 53.84C166.721 53.4933 166.054 52.9467 165.548 52.2C165.068 51.4267 164.828 50.4267 164.828 49.2V37.16H162.068V33.04H164.828V26.24H170.188V33.04H174.588V37.16H170.188V47.4C170.214 48.12 170.414 48.64 170.788 48.96C171.161 49.28 171.628 49.44 172.188 49.44C172.748 49.44 173.294 49.3467 173.828 49.16C174.361 48.9733 174.788 48.8133 175.108 48.68L176.188 52.92ZM208.828 49.16V54H189.108V25.6H208.468V30.44H194.628V37.28H206.588V41.76H194.628V49.16H208.828ZM231.975 54H226.615V42.24C226.615 40.56 226.321 39.3333 225.735 38.56C225.148 37.7867 224.335 37.4 223.295 37.4C222.575 37.4 221.841 37.5867 221.095 37.96C220.375 38.3333 219.721 38.8533 219.135 39.52C218.548 40.16 218.121 40.9067 217.855 41.76V54H212.495V33.04H217.335V36.92C217.868 36.0133 218.548 35.2533 219.375 34.64C220.201 34 221.148 33.52 222.215 33.2C223.308 32.8533 224.455 32.68 225.655 32.68C226.961 32.68 228.028 32.92 228.855 33.4C229.708 33.8533 230.348 34.48 230.775 35.28C231.228 36.0533 231.535 36.9333 231.695 37.92C231.881 38.9067 231.975 39.9067 231.975 40.92V54ZM244.835 54.12C243.449 54.12 242.169 53.8533 240.995 53.32C239.849 52.76 238.849 51.9867 237.995 51C237.169 50.0133 236.529 48.88 236.075 47.6C235.622 46.32 235.395 44.96 235.395 43.52C235.395 42 235.635 40.5867 236.115 39.28C236.595 37.9733 237.262 36.8267 238.115 35.84C238.995 34.8267 240.022 34.0533 241.195 33.52C242.395 32.96 243.715 32.68 245.155 32.68C246.782 32.68 248.209 33.0533 249.435 33.8C250.662 34.52 251.675 35.4933 252.475 36.72V33.04H257.155V53C257.155 55.08 256.649 56.8533 255.635 58.32C254.649 59.8133 253.275 60.9467 251.515 61.72C249.755 62.52 247.755 62.92 245.515 62.92C243.249 62.92 241.329 62.5333 239.755 61.76C238.182 61.0133 236.835 59.9467 235.715 58.56L238.635 55.72C239.435 56.7067 240.435 57.48 241.635 58.04C242.862 58.6 244.155 58.88 245.515 58.88C246.662 58.88 247.702 58.6667 248.635 58.24C249.595 57.84 250.355 57.2 250.915 56.32C251.502 55.4667 251.795 54.36 251.795 53V50.36C251.102 51.56 250.115 52.4933 248.835 53.16C247.582 53.8 246.249 54.12 244.835 54.12ZM246.635 49.84C247.222 49.84 247.782 49.7467 248.315 49.56C248.849 49.3733 249.342 49.12 249.795 48.8C250.249 48.48 250.649 48.1067 250.995 47.68C251.342 47.2267 251.609 46.7733 251.795 46.32V41.32C251.475 40.4933 251.022 39.7733 250.435 39.16C249.875 38.5467 249.235 38.08 248.515 37.76C247.822 37.4133 247.089 37.24 246.315 37.24C245.489 37.24 244.742 37.4133 244.075 37.76C243.409 38.1067 242.835 38.6 242.355 39.24C241.875 39.8533 241.502 40.5467 241.235 41.32C240.995 42.0667 240.875 42.8533 240.875 43.68C240.875 44.5333 241.022 45.3333 241.315 46.08C241.609 46.8267 242.009 47.48 242.515 48.04C243.049 48.6 243.662 49.04 244.355 49.36C245.075 49.68 245.835 49.84 246.635 49.84ZM260.547 47.8C260.547 46.44 260.92 45.2533 261.667 44.24C262.44 43.2 263.507 42.4 264.867 41.84C266.227 41.28 267.787 41 269.547 41C270.427 41 271.32 41.0667 272.227 41.2C273.134 41.3333 273.92 41.5467 274.587 41.84V40.72C274.587 39.3867 274.187 38.36 273.387 37.64C272.614 36.92 271.454 36.56 269.907 36.56C268.76 36.56 267.667 36.76 266.627 37.16C265.587 37.56 264.494 38.1467 263.347 38.92L261.627 35.4C263.014 34.4933 264.427 33.8133 265.867 33.36C267.334 32.9067 268.867 32.68 270.467 32.68C273.454 32.68 275.774 33.4267 277.427 34.92C279.107 36.4133 279.947 38.5467 279.947 41.32V48C279.947 48.56 280.04 48.96 280.227 49.2C280.44 49.44 280.774 49.5867 281.227 49.64V54C280.747 54.08 280.307 54.1467 279.907 54.2C279.534 54.2533 279.214 54.28 278.947 54.28C277.88 54.28 277.067 54.04 276.507 53.56C275.974 53.08 275.64 52.4933 275.507 51.8L275.387 50.72C274.48 51.8933 273.347 52.8 271.987 53.44C270.627 54.08 269.24 54.4 267.827 54.4C266.44 54.4 265.187 54.12 264.067 53.56C262.974 52.9733 262.107 52.1867 261.467 51.2C260.854 50.1867 260.547 49.0533 260.547 47.8ZM273.587 48.88C273.88 48.56 274.12 48.24 274.307 47.92C274.494 47.6 274.587 47.3067 274.587 47.04V44.92C273.947 44.6533 273.254 44.4533 272.507 44.32C271.76 44.16 271.054 44.08 270.387 44.08C269 44.08 267.854 44.3867 266.947 45C266.067 45.5867 265.627 46.3733 265.627 47.36C265.627 47.8933 265.774 48.4 266.067 48.88C266.36 49.36 266.787 49.7467 267.347 50.04C267.907 50.3333 268.574 50.48 269.347 50.48C270.147 50.48 270.934 50.3333 271.707 50.04C272.48 49.72 273.107 49.3333 273.587 48.88ZM293.156 54.12C291.769 54.12 290.489 53.8533 289.316 53.32C288.169 52.76 287.169 51.9867 286.316 51C285.489 50.0133 284.849 48.88 284.396 47.6C283.942 46.32 283.716 44.96 283.716 43.52C283.716 42 283.956 40.5867 284.436 39.28C284.916 37.9733 285.582 36.8267 286.436 35.84C287.316 34.8267 288.342 34.0533 289.516 33.52C290.716 32.96 292.036 32.68 293.476 32.68C295.102 32.68 296.529 33.0533 297.756 33.8C298.982 34.52 299.996 35.4933 300.796 36.72V33.04H305.476V53C305.476 55.08 304.969 56.8533 303.956 58.32C302.969 59.8133 301.596 60.9467 299.836 61.72C298.076 62.52 296.076 62.92 293.836 62.92C291.569 62.92 289.649 62.5333 288.076 61.76C286.502 61.0133 285.156 59.9467 284.036 58.56L286.956 55.72C287.756 56.7067 288.756 57.48 289.956 58.04C291.182 58.6 292.476 58.88 293.836 58.88C294.982 58.88 296.022 58.6667 296.956 58.24C297.916 57.84 298.676 57.2 299.236 56.32C299.822 55.4667 300.116 54.36 300.116 53V50.36C299.422 51.56 298.436 52.4933 297.156 53.16C295.902 53.8 294.569 54.12 293.156 54.12ZM294.956 49.84C295.542 49.84 296.102 49.7467 296.636 49.56C297.169 49.3733 297.662 49.12 298.116 48.8C298.569 48.48 298.969 48.1067 299.316 47.68C299.662 47.2267 299.929 46.7733 300.116 46.32V41.32C299.796 40.4933 299.342 39.7733 298.756 39.16C298.196 38.5467 297.556 38.08 296.836 37.76C296.142 37.4133 295.409 37.24 294.636 37.24C293.809 37.24 293.062 37.4133 292.396 37.76C291.729 38.1067 291.156 38.6 290.676 39.24C290.196 39.8533 289.822 40.5467 289.556 41.32C289.316 42.0667 289.196 42.8533 289.196 43.68C289.196 44.5333 289.342 45.3333 289.636 46.08C289.929 46.8267 290.329 47.48 290.836 48.04C291.369 48.6 291.982 49.04 292.676 49.36C293.396 49.68 294.156 49.84 294.956 49.84ZM320.027 54.4C318.347 54.4 316.827 54.12 315.467 53.56C314.107 52.9733 312.947 52.1867 311.987 51.2C311.027 50.1867 310.281 49.04 309.747 47.76C309.241 46.4533 308.987 45.08 308.987 43.64C308.987 41.64 309.427 39.8133 310.307 38.16C311.214 36.5067 312.494 35.1867 314.147 34.2C315.827 33.1867 317.801 32.68 320.067 32.68C322.361 32.68 324.321 33.1867 325.947 34.2C327.574 35.1867 328.814 36.5067 329.667 38.16C330.547 39.7867 330.987 41.5467 330.987 43.44C330.987 43.76 330.974 44.0933 330.947 44.44C330.921 44.76 330.894 45.0267 330.867 45.24H314.667C314.774 46.3067 315.081 47.24 315.587 48.04C316.121 48.84 316.787 49.4533 317.587 49.88C318.414 50.28 319.294 50.48 320.227 50.48C321.294 50.48 322.294 50.2267 323.227 49.72C324.187 49.1867 324.841 48.4933 325.187 47.64L329.787 48.92C329.281 49.9867 328.547 50.9333 327.587 51.76C326.654 52.5867 325.547 53.24 324.267 53.72C322.987 54.1733 321.574 54.4 320.027 54.4ZM314.547 41.84H325.507C325.401 40.7733 325.094 39.8533 324.587 39.08C324.107 38.28 323.467 37.6667 322.667 37.24C321.867 36.7867 320.974 36.56 319.987 36.56C319.027 36.56 318.147 36.7867 317.347 37.24C316.574 37.6667 315.934 38.28 315.427 39.08C314.947 39.8533 314.654 40.7733 314.547 41.84ZM366.813 54H361.453V42.24C361.453 40.5867 361.159 39.3733 360.573 38.6C360.013 37.8 359.226 37.4 358.213 37.4C357.173 37.4 356.173 37.8133 355.213 38.64C354.279 39.44 353.613 40.4933 353.213 41.8V54H347.853V42.24C347.853 40.56 347.559 39.3333 346.973 38.56C346.413 37.7867 345.626 37.4 344.613 37.4C343.573 37.4 342.573 37.8 341.613 38.6C340.679 39.4 340.013 40.4533 339.613 41.76V54H334.253V33.04H339.093V36.92C339.893 35.56 340.959 34.52 342.293 33.8C343.626 33.0533 345.159 32.68 346.893 32.68C348.626 32.68 349.973 33.1067 350.933 33.96C351.919 34.8133 352.546 35.8667 352.813 37.12C353.666 35.68 354.746 34.5867 356.053 33.84C357.386 33.0667 358.879 32.68 360.533 32.68C361.839 32.68 362.893 32.92 363.693 33.4C364.519 33.8533 365.159 34.48 365.613 35.28C366.066 36.0533 366.373 36.9333 366.533 37.92C366.719 38.9067 366.813 39.9067 366.813 40.92V54ZM381.199 54.4C379.519 54.4 377.999 54.12 376.639 53.56C375.279 52.9733 374.119 52.1867 373.159 51.2C372.199 50.1867 371.452 49.04 370.919 47.76C370.412 46.4533 370.159 45.08 370.159 43.64C370.159 41.64 370.599 39.8133 371.479 38.16C372.386 36.5067 373.666 35.1867 375.319 34.2C376.999 33.1867 378.972 32.68 381.239 32.68C383.532 32.68 385.492 33.1867 387.119 34.2C388.746 35.1867 389.986 36.5067 390.839 38.16C391.719 39.7867 392.159 41.5467 392.159 43.44C392.159 43.76 392.146 44.0933 392.119 44.44C392.092 44.76 392.066 45.0267 392.039 45.24H375.839C375.946 46.3067 376.252 47.24 376.759 48.04C377.292 48.84 377.959 49.4533 378.759 49.88C379.586 50.28 380.466 50.48 381.399 50.48C382.466 50.48 383.466 50.2267 384.399 49.72C385.359 49.1867 386.012 48.4933 386.359 47.64L390.959 48.92C390.452 49.9867 389.719 50.9333 388.759 51.76C387.826 52.5867 386.719 53.24 385.439 53.72C384.159 54.1733 382.746 54.4 381.199 54.4ZM375.719 41.84H386.679C386.572 40.7733 386.266 39.8533 385.759 39.08C385.279 38.28 384.639 37.6667 383.839 37.24C383.039 36.7867 382.146 36.56 381.159 36.56C380.199 36.56 379.319 36.7867 378.519 37.24C377.746 37.6667 377.106 38.28 376.599 39.08C376.119 39.8533 375.826 40.7733 375.719 41.84ZM414.904 54H409.544V42.24C409.544 40.56 409.251 39.3333 408.664 38.56C408.078 37.7867 407.264 37.4 406.224 37.4C405.504 37.4 404.771 37.5867 404.024 37.96C403.304 38.3333 402.651 38.8533 402.064 39.52C401.478 40.16 401.051 40.9067 400.784 41.76V54H395.424V33.04H400.264V36.92C400.798 36.0133 401.478 35.2533 402.304 34.64C403.131 34 404.078 33.52 405.144 33.2C406.238 32.8533 407.384 32.68 408.584 32.68C409.891 32.68 410.958 32.92 411.784 33.4C412.638 33.8533 413.278 34.48 413.704 35.28C414.158 36.0533 414.464 36.9333 414.624 37.92C414.811 38.9067 414.904 39.9067 414.904 40.92V54ZM432.008 52.92C431.554 53.1067 431.008 53.32 430.368 53.56C429.728 53.8 429.034 53.9867 428.288 54.12C427.568 54.28 426.834 54.36 426.088 54.36C425.101 54.36 424.194 54.1867 423.368 53.84C422.541 53.4933 421.874 52.9467 421.368 52.2C420.888 51.4267 420.648 50.4267 420.648 49.2V37.16H417.888V33.04H420.648V26.24H426.008V33.04H430.408V37.16H426.008V47.4C426.034 48.12 426.234 48.64 426.608 48.96C426.981 49.28 427.448 49.44 428.008 49.44C428.568 49.44 429.114 49.3467 429.648 49.16C430.181 48.9733 430.608 48.8133 430.928 48.68L432.008 52.92Z"
          fill="white"
        />
        <defs>
          <linearGradient id="paint0_linear_77_302" x1="89" y1="239.5" x2="675" y2="239.5" gradientUnits="userSpaceOnUse">
            <stop stopColor="#816020" />
            <stop offset="1" stopColor="#E7AC39" />
          </linearGradient>
        </defs>
      </svg>
    </VisibilitySensor>
  );
}
